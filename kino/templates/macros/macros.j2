{# show card #}
{% macro display_show(show, is_admin) %}
<div class="kard">
	<div class="kard-img">
		{% if show.show_img %}
		<img src="{{ url_for('static', filename='img/show/' + show.show_img) }}" class="kard-image" alt="venue" />
		{% else %}
		<img src="https://via.placeholder.com/150" class="kard-image" alt="venue" />
		{% endif %}
	</div>
	<div class="kard-content">
		<div class="kard-details">
			<h2 class="kard-title">{{show.title}}</h2>
			<hr style="height:1px;background-color:black;margin:0px;">
			<div class="kard-item">
				<span> {{show.language}} </span>
				<span> {{show.duration}}mins </span>
			</div>
			<div class="kard-item">
				<span>&#x20B9;{{show.price}}</span>
				<span>&hearts;{{show.popularity}}%</span>
			</div>
			<div class="kard-item">
				<span>{{show.show_time}}</span>
			</div>
			<div class="kard-item">
				<span>Seats Avl: {{(show.n_rows * show.n_seats) - (show.seats|length) }}</span>
				<!-- <span>Seating:{{show.n_rows}}x{{show.n_seats}}</span> -->
			</div>
			{% if is_admin %}
			<div class="kard-form">
				<form id="edit-venue" method="POST">
					<button type="submit" class="submit-btn submit-btn-edit" name="edit-show" value="{{show.id}}">Edit</button>
				</form>
				<form id="delete-venue" method="POST">
				<button type="submit" class="submit-btn submit-btn-delete" name="delete-show" value="{{show.id}}">Delete</button>
				</form>
			</div>
			{% else %}
			<form action={{url_for('controller.book', show_id=show.id)}} method="post">
				<div class="kard-form">
					<input type="submit" name="book" value="Book" class="submit-btn-general">
					<!-- <input type="submit" name="Delete" value="Delete"> -->
				</div>
			</form>
			{% endif %}
		</div>
	</div>
</div>
{% endmacro %}

{# show booking #}
{% macro display_booking(booking) %}
<div class="card mb-3" style="max-width: 540px;">
	<div class="row g-0">
		<div class="col-md-4">
			<img src="{{ url_for('static', filename='img/show/' + booking.seats[0].show.show_img) }}" class="img-fluid rounded-start" alt="Show banner">
		</div>
		<div class="col-md-8">
			<div class="card-body">
			<h6> Ticket: #{{ booking.id }}</h6>
				<h6 class="card-title text-center">{{ booking.seats[0].show.title }}({{ booking.seats[0].show.language }})</h6>
				<hr>
				<div class="card-text">
					{{ booking.seats[0].show.show_time.strftime("%a %d %b %Y %I.%M%p") }},{{ booking.seats[0].show.duration }}mins
				</div>
				<div class="card-text">
					<br>
					<label>Seats: </label>
					{% for seat in booking.seats %}
						<span>&nbsp;{{ seat.seat }}</span>
					{% endfor %}
				</div>
				<br>
				<p class="card-text"><small class="text-muted">{{ booking.seats[0].show.venue.name }},{{ booking.seats[0].show.venue.place }}</small></p>
			</div>
		</div>
	</div>
</div>
{% endmacro %}

{# show checkout summary #}
{% macro display_checkout(booking) %}
<div class="card mb-3" style="max-width: 540px;">
	<div class="row g-0">
		<div class="col-md-4">
			<img src="{{ url_for('static', filename='img/show/' + booking.seats[0].show.show_img) }}" class="img-fluid rounded-start" alt="Show banner">
		</div>
		<div class="col-md-8">
			<div class="card-body">
			<h6> Ticket: #{{ booking.id }}</h6>
				<h6 class="card-title text-center">{{ booking.seats[0].show.title }}({{ booking.seats[0].show.language }})</h6>
				<hr>
				<p class="card-text"><i class="fa fa-map-marker"></i><small>{{ booking.seats[0].show.venue.name }},{{ booking.seats[0].show.venue.place }}</small></p>
				<div class="card-text">
					{{ booking.seats[0].show.show_time.strftime("%a %d %b %Y %I.%M%p") }},{{ booking.seats[0].show.duration }}mins
				</div>
				<div class="card-text">
					<br>
					<label>No. of seats:{{ booking.seats|count }} </label>
				</div>
				<div class="card-text">
					<br>
					<label>Seats: </label>
					{% for seat in booking.seats %}
						<span>&nbsp;{{ seat.seat }}</span>
					{% endfor %}
				</div>
				<br>
			</div>
		</div>
	</div>
</div>
{% endmacro %}


